# profiles/config.yaml

# 1. åŸºç¡€åº•åŒ… (è¿™é‡Œä½¿ç”¨å¢¨é±¼é…ç½®)
base:
  url: "https://ddgksf2013.top/Profile/QuantumultX.conf"

# 2. è¡¥ä¸æ¸…æ´—æ¨¡å— (Sanitizer)
# ä½œç”¨ï¼šåœ¨æ³¨å…¥æ–°è§„åˆ™å‰ï¼Œå…ˆåˆ æ‰åº•åŒ…é‡Œä½ ä¸æƒ³è¦çš„ä¸œè¥¿
patches:
  # æ¸…æ´— [rewrite_remote] æ®µè½
  rewrite_remote:
    strategy: "blacklist" # é»‘åå•æ¨¡å¼ï¼šåŒ…å«ä»¥ä¸‹å…³é”®è¯çš„è¡Œä¼šè¢«åˆ é™¤
    keywords:
      - "youtube"       # æ¯”å¦‚ï¼šåˆ æ‰å¢¨é±¼è‡ªå¸¦çš„æ²¹ç®¡é‡å†™ (æˆ‘æœ‰ä¼šå‘˜ï¼Œä¸æƒ³å»å¹¿å‘Š)
      - "ad_block_v2"   # åˆ æ‰æŸä¸ªç‰¹å®šçš„å»å¹¿å‘Šæ–‡ä»¶
      - "tiktok"        # åˆ æ‰ tiktok ç›¸å…³è§„åˆ™
#      - "SpotifyéŸ³ä¹VIP"        # åˆ æ‰ tiktok ç›¸å…³è§„åˆ™

  # æ¸…æ´— [filter_remote] æ®µè½
  filter_remote:
    strategy: "blacklist"
    keywords:
      - "Hijacking"     # åˆ æ‰åŠ«æŒè§„åˆ™

# 3. è¦†å†™ General
general:
  # å¼ºåˆ¶ä½¿ç”¨ Hackl0us çš„ GeoIP æº (è§£å†³ 2019 å¹´æ•°æ®é—®é¢˜)
  geoip-url: "https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb"
  server_check_url: "http://www.gstatic.com/generate_204"

# 4. ç­–ç•¥ç»„æ˜ å°„è¡¨ (Mapping)
# å·¦è¾¹æ˜¯ YAML é‡Œç”¨çš„ç®€å†™ï¼Œå³è¾¹æ˜¯å¢¨é±¼é…ç½®é‡ŒçœŸå®çš„ Emoji åå­—
policy_map:
  proxy: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
  streaming: "ğŸŒ å›½å¤–åª’ä½“" # å¦‚æœå¢¨é±¼æ²¡æœ‰è¿™ä¸ªç»„ï¼Œå¯ä»¥æ”¹æˆ "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
  reject: "reject"
  direct: "direct"
  my_home: "ğŸ  å®¶åº­ç½‘ç»œ"   # æ˜ å°„è‡ªå®šä¹‰ç­–ç•¥ç»„

# 5. è‡ªå®šä¹‰ç­–ç•¥ç»„ (å¯é€‰)
custom_policies:
  - "static=ğŸ  å®¶åº­ç½‘ç»œ, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Home.png"

# 6. æœ¬åœ°è§„åˆ™
local_filters:
  # æ’åœ¨æœ€å‰é¢ (High Priority)
  top:
    - "ip-cidr, 192.168.0.0/16, direct, tag=Dockerç›´è¿"
    - "host-suffix, suversal.com, my_home, tag=æˆ‘çš„ç½‘ç«™" # è¿™é‡Œç”¨äº† my_home æ˜ å°„
    - "host-suffix, local, direct, tag=æœ¬åœ°æœåŠ¡"

  # æ’åœ¨æœ€åé¢ (Low Priority)
  bottom:
    - "geoip, cn, direct, tag=CN-IPç›´è¿"

# 7. è¿œç¨‹è§„åˆ™å¼•ç”¨
remote_filters:
  # å¼•ç”¨ OpenAI
  - name: "OpenAI"
    source: "blackmatrix7"
    policy: "proxy"
    tag: "ChatGPT"

  # å¼•ç”¨ Netflix
  - name: "Netflix"
    source: "blackmatrix7"
    policy: "streaming"
    tag: "å¥ˆé£è§†é¢‘"

  # å¼•ç”¨ ACL4SSR çš„å»å¹¿å‘Š (æ›¿ä»£å¢¨é±¼è‡ªå¸¦çš„)
  - name: "BanAD"
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list"
    policy: "reject"
    tag: "å¼ºåŠ›å»å¹¿å‘Š"